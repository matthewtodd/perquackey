<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Perquackey</title>
    <style>
      body {
        margin: 0 auto 5em;
        width: 45em;
      }
      section {
        margin-bottom: 1em;
      }
      table {
        border-collapse: collapse;
      }
      tbody tr:nth-child(5) td {
        border-bottom: 1px dashed #ccc;
      }
      td, th {
        padding-right: 1em;
      }
      footer {
        background-color: #eee;
        padding: 1em;
      }
    </style>
    <script type="module">
      import Dictionary from "./dictionary.mjs";
      import words from "./words.mjs";

      const dictionary = new Dictionary(words);
      const $input = document.querySelector("input[name=letters]");
      const $wordList = document.querySelector("#words ul");

      $input.addEventListener("keyup", (e) => {
        e.target.dispatchEvent(
          new CustomEvent("letters", {
            bubbles: true,
            detail: { letters: e.target.value }
          })
        );
      });

      document.addEventListener("letters", (e) => {
        $wordList.innerHTML = "";

        for (const word of dictionary.lookup(e.detail.letters)) {
          const item = document.createElement("li");
          item.appendChild(document.createTextNode(word));
          $wordList.appendChild(item);
        }
      });
    </script>
  </head>

  <body>
    <header>
      <h1>Perquackey</h1>
    </header>

    <section>
      <form>
        <input name="letters"
       autocomplete="off"
          autofocus="on"
          maxlength="13"
        placeholder="Enter your letters here."
               size="30"
        />
      </form>
    </section>

    <section id="words">
      <ul>
      </ul>
    </section>

    <footer>
      <p>
        Enter the letters you rolled to see what you could have spelled.
      </p>
      <!-- <p> -->
      <!--   Examples: -->
      <!--   <a href="/eehhhijjoopqt">eehhhijjoopqt</a>, -->
      <!--   <a href="/aaddeginoprsw">aaddeginoprsw</a> -->
      <!-- </p> -->
      <p>
        These words are taken from
        <a href="http://en.wikipedia.org/wiki/Tournament_Word_List">TWL06, the official word list</a>
        for Scrabble tournaments in North America. (You can
        <a href="http://www.isc.ro/en/commands/lists.html">download this list</a>
        from the Internet Scrabble Club.)
      </p>
      <p>
        <a href="https://github.com/matthewtodd/perquackey">This code is on GitHub</a>.
        Patches welcome!
      </p>
    </footer>
  </body>
</html>
